{"version":3,"sources":["App.tsx","routers/writeCircolare/writeCircolare.tsx","routers/showCircolari/CircolarePreview.tsx","routers/showCircolari/CircolariPreview.tsx","routers/showCircolari/circolare.tsx","index.tsx"],"names":["App","className","to","WriteCircolare","useState","tags","setTags","useEffect","sf","fetch","process","method","mode","headers","then","res","json","catch","err","console","log","onSubmit","e","obj","l","preventDefault","formElements","currentTarget","elements","i","length","key","item","name","value","checked","push","body","JSON","stringify","status","alert","id","type","placeholder","required","map","t","index","CircolarePreview","circolare","title","CircolariPreview","circolariPreview","setCircolariPreview","sort","e1","e2","c","Circolare","params","useParams","description","setCircolare","ReactDOM","render","path","element","document","getElementById"],"mappings":"uOAiBeA,MAbf,WACE,OACE,sBAAKC,UAAU,MAAf,UACE,cAAC,IAAD,CAAMC,GAAE,kBAAR,iCAEO,uBACP,cAAC,IAAD,CAAMA,GAAE,aAAR,yC,sBC2DSC,G,YA7DgD,WAE3D,MAAqBC,mBAAmB,CAAC,UAAzC,mBAAKC,EAAL,KAAUC,EAAV,KASAC,qBAAU,kBARcC,EAQOF,OAP3BG,MAAOC,gCAAiD,CACpDC,OAAQ,OACRC,KAAM,OACNC,QAAS,CAAC,eAAgB,sBAC3BC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GAAG,OAAIP,EAAG,CAAC,SAAF,mBAAaO,QAAOE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MALnE,IAACV,IAQgB,IA8BxC,OACI,uBAAMa,SA7BW,SAACC,GAClB,IAAIC,EAAY,GACZC,EAAe,GACnBF,EAAEG,iBAGF,IAFA,IAAMC,EAAeJ,EAAEK,cAAcC,SAE7BC,EAAI,EAAGA,EAAEH,EAAaI,OAAS,EAAED,IAAI,CACzC,IAAIE,EAAgBL,EAAaM,KAAKH,GAAwBI,KAC1DC,EAAeR,EAAaM,KAAKH,GAAwBK,MAChD,OAAVA,IAAgBA,EAASR,EAAaM,KAAKH,GAAwBM,SACjD,mBAAXD,EACNX,EAAIQ,GAAOG,GACK,IAAVA,GAAgBV,EAAEY,KAAKL,GAErCR,EAAG,KAAWC,EACdf,MAAOC,wCAAyD,CAC5DC,OAAQ,OACRC,KAAM,OACNC,QAAS,CAAC,eAAgB,oBAC1BwB,KAAMC,KAAKC,UAAUhB,KACtBT,MAAK,SAAAC,GACc,MAAfA,EAAIyB,OACHC,MAAM,wBAELA,MAAM,qBACZxB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAIEjB,UAAU,YAAYyC,GAAG,OAAvD,UACI,uBAAOT,KAAK,KAAKU,KAAK,SAASC,YAAY,MAAM3C,UAAU,UAAU4C,UAAQ,IAAE,uBAC/E,uBAAOZ,KAAK,SAASU,KAAK,OAAOC,YAAY,UAAU3C,UAAU,cAAc4C,UAAQ,IAAE,uBACzF,0BAAUZ,KAAK,cAAcW,YAAY,eAAe3C,UAAU,mBAAmB4C,UAAQ,IAAE,uBAC/F,uBAAOZ,KAAK,WAAWU,KAAK,WAAWC,YAAY,YAAY3C,UAAU,gBAAgB4C,UAAQ,IAAE,uBAJvG,OAKKxC,QALL,IAKKA,OALL,EAKKA,EAAMyC,KAAI,SAACC,EAAUC,GAClB,OACI,wBAAO/C,UAAU,SAAjB,UACK8C,EACD,uBAAOd,KAAMc,EAAGJ,KAAK,WAAW1C,UAAU,WAC1C,sBAAMA,UAAU,aAHW+C,MAMhC,uBACP,uBAAOL,KAAK,SAAST,MAAM,SAASjC,UAAU,sBC5C3CgD,G,MAXoD,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UACjE,OAAQ,mCACJ,qBAAKjD,UAAU,YAAf,SACI,eAAC,IAAD,CAAMC,GAAE,qBAAgBgD,EAAUR,IAAMzC,UAAU,OAAlD,UACI,mBAAGA,UAAU,SAAb,SAAuBiD,EAAUR,KACjC,mBAAGzC,UAAU,QAAb,SAAsBiD,EAAUC,iBCejCC,EApBoD,WAE/D,MAA6ChD,mBAAsC,IAAnF,mBAAKiD,EAAL,KAAsBC,EAAtB,KAaA,OAXA/C,qBACI,WACIE,MAAM,mCACDK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFuC,EAAqBvC,EAAoCwC,MAAK,SAACC,EAA6BC,GAA9B,OAA+DA,EAAGf,GAAKc,EAAGd,UAE3IzB,OAAM,SAAAK,GAAC,OAAIH,QAAQC,IAAIE,QAC9B,IAGE,mCACH+B,EAAiBP,KAAI,SAAAY,GAAC,OAAI,cAAC,EAAD,CAA8BR,UAAWQ,GAAlBA,EAAEhB,U,OCa7CiB,G,MA7BsC,WACjD,IAAIC,EAASC,cAEb,EAA+BzD,mBAA6B,CAACsC,IAAI,EAAES,MAAM,QAAQW,YAAY,0BAA2BzD,KAAK,KAA7H,mBAAK6C,EAAL,KAAea,EAAf,KAgBA,OAdAxD,qBACI,WAEIE,MAAM,mCAAD,OAAoCmD,EAAOlB,IAAM,KACjD5B,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GACFgD,EAAahD,MAEhBE,OAAM,SAAAK,GAAC,OAAIH,QAAQC,IAAIE,QAGlC,IAGO,mCACL,sBAAKrB,UAAU,YAAf,UACI,oBAAGA,UAAU,KAAb,gBAAsBiD,EAAUR,MAChC,oBAAGzC,UAAU,QAAb,oBAA6BiD,EAAUC,SACvC,mBAAGlD,UAAU,cAAb,SAA4BiD,EAAUY,cACtC,mBAAG7D,UAAU,OAAb,SAAqBqC,KAAKC,UAAUW,EAAU7C,eC1B1D2D,IAASC,OACP,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,EAAD,MACzB,cAAC,IAAD,CAAOD,KAAK,kBAAkBC,QAAS,cAAC,EAAD,MACvC,cAAC,IAAD,CAAOD,KAAK,YAAYC,QAAS,cAAC,EAAD,MACjC,cAAC,IAAD,CAAOD,KAAK,gBAAgBC,QAAS,cAAC,EAAD,WAGzCC,SAASC,eAAe,W","file":"static/js/main.d9ba40a1.chunk.js","sourcesContent":["\r\nimport './style/css/app.css'\r\nimport { Link} from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Link to={`/writeCircolare`}>\r\n         scrivi la circolare\r\n      </Link><br/>\r\n      <Link to={`/circolari`}>\r\n         visualizza le circolari\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import { useState, useEffect,FunctionComponent, FormEvent } from 'react'\r\nimport './../../style/css/writeCircolare.css'\r\nimport 'dotenv/config'\r\n\r\ninterface WriteCircolareProps {\r\n    \r\n}\r\n \r\nconst WriteCircolare: FunctionComponent<WriteCircolareProps> = () => {\r\n\r\n    let [tags,setTags] = useState<string[]>([\"tutti\"])\r\n    const requireFilters = (sf: Function) => {\r\n        fetch((process.env.REACT_APP_URL as string) + 'filters',{\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {'Content-Type': 'application/json'},\r\n        }).then(res => res.json()).then(res => sf(['tutti',...res])).catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => requireFilters(setTags),[])\r\n\r\n    const handleSubmit = (e:FormEvent<HTMLFormElement>) => {\r\n        let obj : any = {}\r\n        let l : string[] = []\r\n        e.preventDefault();\r\n        const formElements = e.currentTarget.elements\r\n        \r\n        for(let i = 0; i<formElements.length - 1;i++){\r\n            let key : string = (formElements.item(i) as HTMLInputElement).name\r\n            let value : any = (formElements.item(i) as HTMLInputElement).value\r\n            if(value === 'on') value = (formElements.item(i) as HTMLInputElement).checked\r\n            if(typeof(value) !== 'boolean'){\r\n                obj[key] = value\r\n            } else if(value === true) l.push(key)\r\n        }\r\n        obj['tags'] = l\r\n        fetch((process.env.REACT_APP_URL as string) + 'circolari/write',{\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(obj) \r\n        }).then(res => {\r\n            if(res.status === 200){\r\n                alert('Circolare pubblicata')\r\n            }\r\n            else alert('wrong password')\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className='formWrite' id='form'>\r\n            <input name='id' type=\"number\" placeholder='id:' className='inputID' required/><br/>\r\n            <input name='titolo' type=\"text\" placeholder='titolo:' className='inputTitolo' required/><br/>\r\n            <textarea name='descrizione' placeholder='descrizione:' className='inputDescrizione' required/><br/>\r\n            <input name='password' type=\"password\" placeholder='password:' className='inputPassword' required/><br/>\r\n            {tags?.map((t:string, index:number) => {\r\n                return(\r\n                    <label className=\"switch\" key={index}>\r\n                        {t}\r\n                        <input name={t} type=\"checkbox\" className='filter' />\r\n                        <span className=\"slider\"></span>\r\n                    </label>\r\n                    )\r\n                })}<br/>\r\n            <input type='submit' value='Submit' className='submitButton'/>\r\n        </form>\r\n     );\r\n}\r\n \r\nexport default WriteCircolare;","import { FunctionComponent} from 'react'\r\nimport CircolarePreviewInterface from '../../types/circolarePreviewInterface'\r\nimport './../../style/css/circolarePreview.css'\r\nimport { Link} from \"react-router-dom\";\r\n\r\ninterface CircolarePreviewProps {\r\n    circolare: CircolarePreviewInterface\r\n}\r\n \r\nconst CircolarePreview: FunctionComponent<CircolarePreviewProps> = ({circolare}) => {\r\n    return (<>\r\n        <div className='container'>\r\n            <Link to={`/circolari/${circolare.id}`} className='link'>\r\n                <p className='number'>{circolare.id}</p> \r\n                <p className='title'>{circolare.title}</p>\r\n            </Link>\r\n        </div>        \r\n    </>);\r\n}\r\n \r\nexport default CircolarePreview;","import {FunctionComponent,useState,useEffect} from 'react'\r\nimport CircolarePreview from './CircolarePreview'\r\nimport CircolarePreviewInterface from './../../types/circolarePreviewInterface'\r\n\r\n\r\ninterface CircolariPreviewProps {\r\n    \r\n}\r\n \r\nconst CircolariPreview: FunctionComponent<CircolariPreviewProps> = () => {\r\n\r\n    let [circolariPreview,setCircolariPreview] = useState<CircolarePreviewInterface[]>([])\r\n\r\n    useEffect(\r\n        function getCircolari() {\r\n            fetch('http://localhost:5000/circolari')\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    setCircolariPreview((res as CircolarePreviewInterface[]).sort((e1:CircolarePreviewInterface,e2:CircolarePreviewInterface) => e2.id - e1.id)) //decreasing order\r\n                })\r\n                .catch(e => console.log(e))\r\n        },[]\r\n    )    \r\n\r\n    return (<>\r\n        {circolariPreview.map(c => <CircolarePreview key={c.id}  circolare={c}/>)}\r\n    </>);\r\n}\r\n \r\nexport default CircolariPreview;","import { FunctionComponent, useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport CircolareInterface from '../../types/Circolare'\r\nimport '../../style/css/circolare.css'\r\n\r\ninterface CircolareProps {\r\n    \r\n}\r\n \r\nconst Circolare: FunctionComponent<CircolareProps> = () => {\r\n    let params = useParams() // :id\r\n\r\n    let [circolare,setCircolare] = useState<CircolareInterface>({id:-1,title:'empty',description:'error, can\\'t find on DB',tags:[]})\r\n\r\n    useEffect(\r\n        () => {\r\n        function getCircolare() {\r\n            fetch(`http://localhost:5000/circolari/${params.id || ''}`)\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    setCircolare(res as CircolareInterface)\r\n                })\r\n                .catch(e => console.log(e))\r\n        }\r\n        getCircolare()\r\n    },[]\r\n    )\r\n\r\n    return ( <>\r\n        <div className='circolare'>\r\n            <p className='id'>N: {circolare.id}</p>\r\n            <p className='title'>title: {circolare.title}</p>\r\n            <p className='description'>{circolare.description}</p>\r\n            <p className='tags'>{JSON.stringify(circolare.tags)}</p>\r\n        </div>\r\n    </> );\r\n}\r\n \r\nexport default Circolare;","import ReactDOM from 'react-dom'\nimport App from './App'\nimport WriteCircolare from './routers/writeCircolare/writeCircolare';\nimport CircolariPreview from './routers/showCircolari/CircolariPreview'\nimport { BrowserRouter,Routes,Route } from \"react-router-dom\";\nimport Circolare from './routers/showCircolari/circolare'\n\nReactDOM.render(\n  <BrowserRouter>\n    <Routes>\n      <Route path='/' element={<App/>} />\n      <Route path='/writeCircolare' element={<WriteCircolare/>} />\n      <Route path='circolari' element={<CircolariPreview/>} />\n      <Route path='circolari/:id' element={<Circolare/>} />\n    </Routes>\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}